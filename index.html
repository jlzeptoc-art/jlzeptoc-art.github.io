<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Product Weight Calculator (Hard‑coded SPG)</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; }
    .card { max-width: 640px; padding: 1.25rem; border: 1px solid #ddd; border-radius: 10px; }
    h2 { margin: 0 0 0.75rem 0; }
    label { display:block; margin-top: 0.75rem; font-weight: 600; }
    input, select { width:100%; padding:0.7rem; border:1px solid #ccc; border-radius:8px; font-size: 1rem; }
    .row { display:flex; gap: 0.8rem; }
    .row > div { flex:1; }
    .muted { color:#666; font-size: 0.9rem; }
    .result { margin-top: 1rem; padding: 0.9rem; background: #f7f7f7; border-radius:8px; }
    .pill { display:inline-block; padding: 0.2rem 0.5rem; border: 1px solid #ddd; border-radius: 999px; margin-right: 0.4rem; font-size: 0.85rem; }
    .ok { color: #155724; background: #d4edda; border-color: #c3e6cb; }
    .warn { color: #856404; background: #fff3cd; border-color: #ffeeba; }
    .err { color: #721c24; background: #f8d7da; border-color: #f5c6cb; }
    .small { font-size: 0.86rem; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Product Weight Calculator</h2>
    <div class="muted">Hard‑coded from spreadsheet. Assumption: 1 gallon @ SPG 1.000 = <strong>8.34 lb</strong>. Net = (bottle ounces × SPG × 8.34 / 128). Gross = Net + tare.</div>

    <label for="search">Search Product Number</label>
    <input id="search" type="text" placeholder="Type product number and press Enter">
    <div id="searchStatus" class="small muted" style="margin-top: .25rem;"></div>

    <div class="row" style="margin-top: .75rem;">
      <div>
        <label for="bottle">Bottle Type</label>
        <select id="bottle"></select>
      </div>
      <div>
        <label for="spg">Specific Gravity (SPG)</label>
        <input id="spg" type="number" step="0.001" min="0" value="1.000">
        <div class="small muted">Auto-fills from spreadsheet when product is found. You can override.</div>
      </div>
    </div>

    <div class="result" id="result"></div>
  </div>

<script>
const GALLON_LBS_AT_SPG1 = 8.34;

// Bottle catalog (ounces + tare)
const bottleTypes = [
  { key: "gallon_white_natural", name: "Gallon (White/Natural HDPE)", tare: 0.30, ounces: 128 },
  { key: "gallon_clear",         name: "Gallon (Clear/PET)",          tare: 0.32, ounces: 128 },
  { key: "half_gallon",          name: "Half Gallon",                  tare: 0.16, ounces: 64 },
  { key: "quart",                name: "Quart",                        tare: 0.08, ounces: 32 },
  { key: "pint",                 name: "Pint",                         tare: 0.05, ounces: 16 },
  { key: "8oz",                  name: "Bottle (8 oz)",                tare: 0.03, ounces: 8 },
  { key: "4oz",                  name: "Bottle (4 oz)",                tare: 0.02, ounces: 4 },
  { key: "drum_5gal",            name: "5 Gallon Pail",                tare: 1.80, ounces: 640 }
];

// Hard-coded products from your spreadsheet
const PRODUCTS = [{"pn": "119101", "spg": 1.022}, {"pn": "110301", "spg": 1.01}, {"pn": "110401", "spg": 0.93}, {"pn": "110501", "spg": 1.02}, {"pn": "110601", "spg": 0.99}, {"pn": "110801", "spg": 1.0}, {"pn": "118401", "spg": 1.0}, {"pn": "1148201", "spg": 1.005}, {"pn": "165801", "spg": 1.028}, {"pn": "183201", "spg": 0.82}, {"pn": "116401", "spg": 1.117}, {"pn": "131101", "spg": 1.224}, {"pn": "160201", "spg": 1.044}, {"pn": "143601", "spg": 1.07}, {"pn": "127001", "spg": 1.02}, {"pn": "167801", "spg": 1.02}, {"pn": "126901", "spg": 1.025}, {"pn": "106404", "spg": 1.03}, {"pn": "104201", "spg": 1.028}, {"pn": "104601", "spg": 1.01}, {"pn": "104701", "spg": 1.01}, {"pn": "104301", "spg": 0.997}, {"pn": "106101", "spg": 0.99}, {"pn": "103201", "spg": 1.0}, {"pn": "103301", "spg": 1.0}, {"pn": "103701", "spg": 1.05}, {"pn": "103801", "spg": 1.05}, {"pn": "103401", "spg": 1.021}, {"pn": "103601", "spg": 1.021}, {"pn": "152501", "spg": 1.0}, {"pn": "186301", "spg": 1.008}, {"pn": "156001", "spg": 1.0}, {"pn": "156201", "spg": 0.996}, {"pn": "155401", "spg": 0.99}, {"pn": "11201", "spg": 1.0}, {"pn": "11101", "spg": 1.0}, {"pn": "11301", "spg": 1.0}, {"pn": "155701", "spg": 1.01}, {"pn": "155101", "spg": 0.99}, {"pn": "181101", "spg": 1.01}, {"pn": "101501  (DNR)", "spg": 1.0}, {"pn": "192100", "spg": 1.04}, {"pn": "186401", "spg": 0.82}, {"pn": "179502", "spg": 0.916}, {"pn": "145401BRDY", "spg": 1.0}, {"pn": "11710BRDY", "spg": 1.0}, {"pn": "117101BRDY", "spg": 1.0}, {"pn": "131501", "spg": 1.2}, {"pn": "119603", "spg": 1.0092}, {"pn": "1196004", "spg": 1.02}, {"pn": "1130BR", "spg": 1.14}, {"pn": "160301", "spg": 1.14}, {"pn": "146301", "spg": 1.0}, {"pn": "155601", "spg": 0.99}, {"pn": "180004", "spg": 0.993}, {"pn": "158132", "spg": 1.0}, {"pn": "1130", "spg": 1.14}, {"pn": "178701", "spg": 0.8}, {"pn": "145101", "spg": 1.16}, {"pn": "156101", "spg": 1.035}, {"pn": "155001", "spg": 0.99}, {"pn": "1BA205", "spg": 1.08}, {"pn": "1205", "spg": 1.08}, {"pn": "1BA284", "spg": 0.98}, {"pn": "181402", "spg": 1.028}, {"pn": "145401BUT", "spg": 1.0}, {"pn": "153001", "spg": 1.05}, {"pn": "192501", "spg": 1.034}, {"pn": "1012110", "spg": 1.0}, {"pn": "108001", "spg": 0.99}, {"pn": "112601", "spg": 1.116}, {"pn": "117901", "spg": 1.02}, {"pn": "145401", "spg": 1.0}, {"pn": "119701", "spg": 1.028}, {"pn": "1543", "spg": 0.99}, {"pn": "154101", "spg": 0.99}, {"pn": "101001", "spg": 1.013}, {"pn": "192101", "spg": 1.04}, {"pn": "119611", "spg": 1.028}, {"pn": "156502", "spg": 0.998}, {"pn": "179001", "spg": 0.99}, {"pn": "187401", "spg": 1.014}, {"pn": "193301", "spg": 1.047}, {"pn": "156802", "spg": 1.01}, {"pn": "145401COLE", "spg": 1.0}, {"pn": "118801", "spg": 1.02}, {"pn": "101601", "spg": 1.18}, {"pn": "146401", "spg": 1.004}, {"pn": "152201", "spg": 1.004}, {"pn": "113516", "spg": 1.05}, {"pn": "124016", "spg": 1.0}, {"pn": "182160", "spg": 1.05}, {"pn": "117201", "spg": 1.0}, {"pn": "179101", "spg": 0.993}, {"pn": "120801", "spg": 0.944}, {"pn": "106501", "spg": 1.004}, {"pn": "140501", "spg": 1.0}, {"pn": "108201", "spg": 1.0}, {"pn": "186101", "spg": 1.015}, {"pn": "186901- DNR", "spg": 1.015}, {"pn": "102201", "spg": 1.08}, {"pn": "1454011", "spg": 1.0}, {"pn": "114701", "spg": 1.01}, {"pn": "179601", "spg": 0.93}, {"pn": "151001", "spg": 1.016}, {"pn": "197701", "spg": 1.04}, {"pn": "116555", "spg": 1.0}, {"pn": "121501", "spg": 1.012}, {"pn": "105801", "spg": 1.0}, {"pn": "145401CEN", "spg": 1.0}, {"pn": "177901", "spg": 1.0}, {"pn": "179501", "spg": 0.93}, {"pn": "141101", "spg": 1.02}, {"pn": "151301", "spg": 1.01}, {"pn": "102001", "spg": 1.004}, {"pn": "120901", "spg": 1.128}, {"pn": "117011", "spg": 1.0}, {"pn": "282901", "spg": 0.98}, {"pn": "112201", "spg": 1.096}, {"pn": "167601", "spg": 1.005}, {"pn": "167611", "spg": 1.005}, {"pn": "153301", "spg": 1.0}, {"pn": "192301", "spg": 1.04}, {"pn": "101202 - DISCONTINUED", "spg": 1.001}, {"pn": "131432", "spg": 1.03}, {"pn": "106402 - DISCONTINUED", "spg": 1.0}, {"pn": "106403 - DISCONTINUED", "spg": 1.0}, {"pn": "127101", "spg": 1.04}, {"pn": "141001", "spg": 1.07}, {"pn": "11501", "spg": 1.07}, {"pn": "157001", "spg": 0.99}, {"pn": "106301", "spg": 0.99}, {"pn": "187501", "spg": 1.014}, {"pn": "115201", "spg": 1.0}, {"pn": "168801", "spg": 1.025}, {"pn": "167701", "spg": 1.005}, {"pn": "168601", "spg": 0.992}, {"pn": "153601 DNR", "spg": 1.004}, {"pn": "168201", "spg": 1.005}, {"pn": "168001", "spg": 1.005}, {"pn": "140201", "spg": 1.052}, {"pn": "182702", "spg": 1.04}, {"pn": "192001", "spg": 1.095}, {"pn": "182701", "spg": 1.04}, {"pn": "180701", "spg": 1.087}, {"pn": "184101", "spg": 1.096}, {"pn": "163001", "spg": 1.0}, {"pn": "1131", "spg": 1.02}, {"pn": "120601", "spg": 1.0}, {"pn": "120301", "spg": 1.095}, {"pn": "185801", "spg": 0.99}, {"pn": "120701", "spg": 1.0}, {"pn": "120501", "spg": 1.0}, {"pn": "141701", "spg": 1.07}, {"pn": "180301", "spg": 1.0}, {"pn": "179801", "spg": 0.99}, {"pn": "143301", "spg": 0.991}, {"pn": "121401", "spg": 1.0}, {"pn": "145401FUL", "spg": 1.0}, {"pn": "113701", "spg": 1.005}, {"pn": "112901", "spg": 1.18}, {"pn": "165701", "spg": 1.028}, {"pn": "102501", "spg": 1.027}, {"pn": "129701", "spg": 1.04}, {"pn": "112701", "spg": 1.172}, {"pn": "160901", "spg": 1.05}, {"pn": "162401", "spg": 0.85}, {"pn": "157901", "spg": 1.53}, {"pn": "121901", "spg": 1.02}, {"pn": "183902", "spg": 1.0}, {"pn": "146202", "spg": 1.0}, {"pn": "161516", "spg": 1.048}, {"pn": "113901", "spg": 1.14}, {"pn": "183001", "spg": 1.048}, {"pn": "183002", "spg": 1.026}, {"pn": "105601", "spg": 1.014}, {"pn": "184602", "spg": 1.01}, {"pn": "145201", "spg": 1.08}, {"pn": "1636IR", "spg": 1.02}, {"pn": "1636", "spg": 1.02}, {"pn": "116702", "spg": 1.0}, {"pn": "1180", "spg": 1.004}, {"pn": "152301", "spg": 1.004}, {"pn": "162901", "spg": 1.004}, {"pn": "180801", "spg": 1.0}, {"pn": "168401", "spg": 1.005}, {"pn": "113301", "spg": 1.116}, {"pn": "140101", "spg": 1.08}, {"pn": "114601", "spg": 1.026}, {"pn": "114101", "spg": 1.05}, {"pn": "179701", "spg": 0.99}, {"pn": "142701", "spg": 0.992}, {"pn": "180802", "spg": 1.0}, {"pn": "184601", "spg": 0.99}, {"pn": "198501", "spg": 1.0}, {"pn": "124101", "spg": 1.0}, {"pn": "112101", "spg": 1.1}, {"pn": "182401", "spg": 1.0}, {"pn": "112301", "spg": 1.1}, {"pn": "157301", "spg": 1.048}, {"pn": "10202", "spg": 1.009}, {"pn": "10LD201", "spg": 1.0092}, {"pn": "10201", "spg": 1.009}, {"pn": "10LD501", "spg": 0.9956}, {"pn": "10501", "spg": 0.996}, {"pn": "10LD601", "spg": 1.0}, {"pn": "187201", "spg": 1.014}, {"pn": "117101 BRDY", "spg": 1.0}, {"pn": "102301", "spg": 1.0}, {"pn": "181001", "spg": 1.028}, {"pn": "178201", "spg": 0.78}, {"pn": "178001", "spg": 0.793}, {"pn": "131301", "spg": 1.086}, {"pn": "131302", "spg": 1.113}, {"pn": "113001", "spg": 1.144}, {"pn": "112001", "spg": 1.14}, {"pn": "104101 - DISCONTINUED", "spg": 1.05}, {"pn": "109001", "spg": 1.03}, {"pn": "158001", "spg": 0.99}, {"pn": "116001", "spg": 1.0}, {"pn": "119601", "spg": 1.028}, {"pn": "123001", "spg": 1.02}, {"pn": "155801", "spg": 1.0}, {"pn": "116601", "spg": 1.0}, {"pn": "160501", "spg": 1.04}, {"pn": "105501", "spg": 1.0}, {"pn": "166001", "spg": 1.12}, {"pn": "150001", "spg": 1.0}, {"pn": "179303", "spg": 1.009}, {"pn": "179301", "spg": 0.929}, {"pn": "179302", "spg": 0.93}, {"pn": "114901", "spg": 1.08}, {"pn": "105401", "spg": 0.84}, {"pn": "124001", "spg": 1.0}, {"pn": "114301MC", "spg": 1.0}, {"pn": "141601", "spg": 1.077}, {"pn": "156401", "spg": 1.01}, {"pn": "156901", "spg": 1.008}, {"pn": "155207", "spg": 1.02}, {"pn": "120201", "spg": 1.01}, {"pn": "155002", "spg": 0.99}, {"pn": "180MTA", "spg": 1.0}, {"pn": "156801", "spg": 1.01}, {"pn": "181401", "spg": 1.028}, {"pn": "127601", "spg": 1.025}, {"pn": "186102", "spg": 1.015}, {"pn": "186201", "spg": 1.0}, {"pn": "197601", "spg": 1.0}, {"pn": "142001", "spg": 0.976}, {"pn": "105001", "spg": 1.0}, {"pn": "88105", "spg": 1.0}, {"pn": "198701", "spg": 0.966}, {"pn": "124901", "spg": 1.0}, {"pn": "1178IR- DISCONTINUED", "spg": 1.012}, {"pn": "1178", "spg": 1.012}, {"pn": "154001", "spg": 1.023}, {"pn": "164101", "spg": 0.912}, {"pn": "150501", "spg": 0.984}, {"pn": "105901", "spg": 1.01}, {"pn": "146011", "spg": 1.004}, {"pn": "106201", "spg": 1.0}, {"pn": "183701", "spg": 1.01}, {"pn": "153501", "spg": 1.007}, {"pn": "182201", "spg": 0.997}, {"pn": "153701", "spg": 0.812}, {"pn": "164301", "spg": 1.0}, {"pn": "151901", "spg": 1.004}, {"pn": "185401", "spg": 1.031}, {"pn": "184901", "spg": 1.031}, {"pn": "185601", "spg": 1.031}, {"pn": "118902", "spg": 1.0}, {"pn": "116101", "spg": 1.1}, {"pn": "181701", "spg": 1.01}, {"pn": "115001", "spg": 1.049}, {"pn": "156301", "spg": 1.06}, {"pn": "142301", "spg": 1.0}, {"pn": "145801", "spg": 1.027}, {"pn": "145901", "spg": 1.013}, {"pn": "121101", "spg": 1.0}, {"pn": "181501", "spg": 1.028}, {"pn": "117101", "spg": 1.03}, {"pn": "117111", "spg": 1.0}, {"pn": "181403", "spg": 1.028}, {"pn": "122501", "spg": 1.04}, {"pn": "163201", "spg": 1.35}, {"pn": "115101", "spg": 1.0}, {"pn": "178301", "spg": 0.8}, {"pn": "1456012", "spg": 0.988}, {"pn": "178501", "spg": 1.0}, {"pn": "103001", "spg": 1.05}, {"pn": "192103", "spg": 1.04}, {"pn": "116701", "spg": 1.0}, {"pn": "116721", "spg": 1.0}, {"pn": "154801", "spg": 0.99}, {"pn": "1162101", "spg": 1.0016}, {"pn": "1162301", "spg": 1.015}, {"pn": "157601", "spg": 1.0}, {"pn": "115301", "spg": 1.0}, {"pn": "160101", "spg": 0.987}, {"pn": "104501", "spg": 1.0}, {"pn": "143101", "spg": 1.0}, {"pn": "111001", "spg": 1.0}, {"pn": "120001", "spg": 1.0}, {"pn": "141901", "spg": 1.005}, {"pn": "152401", "spg": 1.0}, {"pn": "127701", "spg": 1.02}, {"pn": "114301", "spg": 1.02}, {"pn": "162601", "spg": 1.016}, {"pn": "1031501", "spg": 1.005}, {"pn": "101101", "spg": 1.06}, {"pn": "184501", "spg": 1.04}, {"pn": "184401", "spg": 1.01}, {"pn": "183901", "spg": 1.008}, {"pn": "182901", "spg": 1.015}, {"pn": "181801", "spg": 1.0}, {"pn": "184001", "spg": 1.016}, {"pn": "145301", "spg": 1.0}, {"pn": "145302", "spg": 1.0}, {"pn": "1456011", "spg": 0.988}, {"pn": "179201", "spg": 0.997}, {"pn": "110901", "spg": 1.03}, {"pn": "197501", "spg": 1.0}, {"pn": "127301", "spg": 1.0}, {"pn": "143201", "spg": 1.0}, {"pn": "145001", "spg": 1.05}, {"pn": "115701", "spg": 1.04}, {"pn": "183524", "spg": 0.99}, {"pn": "156701", "spg": 1.009}, {"pn": "123801", "spg": 1.03}, {"pn": "119501", "spg": 1.005}, {"pn": "106401", "spg": 1.004}, {"pn": "101401", "spg": 0.93}, {"pn": "114001", "spg": 1.0}, {"pn": "153801", "spg": 1.0}, {"pn": "129901", "spg": 1.0}, {"pn": "114801", "spg": 1.005}, {"pn": "105201", "spg": 1.005}, {"pn": "131801", "spg": 1.1}, {"pn": "115501", "spg": 1.0}, {"pn": "127201", "spg": 1.025}, {"pn": "198502", "spg": 1.0}, {"pn": "198302", "spg": 1.0}, {"pn": "163101", "spg": 1.0}, {"pn": "122001", "spg": 1.01}, {"pn": "154401", "spg": 0.99}, {"pn": "161501", "spg": 1.048}, {"pn": "105701", "spg": 1.048}, {"pn": "128501", "spg": 1.01}, {"pn": "125901", "spg": 1.02}, {"pn": "102701", "spg": 1.083}, {"pn": "117112", "spg": 1.015}, {"pn": "101301", "spg": 1.005}, {"pn": "185901", "spg": 1.025}, {"pn": "185501", "spg": 1.031}, {"pn": "145401SYM", "spg": 1.0}, {"pn": "141008", "spg": 1.11}, {"pn": "185502", "spg": 1.031}, {"pn": "128201", "spg": 1.025}, {"pn": "145601", "spg": 1.08}, {"pn": "115902", "spg": 1.025}, {"pn": "161701", "spg": 1.09}, {"pn": "111901", "spg": 1.014}, {"pn": "185201", "spg": 1.03}, {"pn": "154201", "spg": 0.99}, {"pn": "146101", "spg": 1.039}, {"pn": "146001", "spg": 1.004}, {"pn": "119801", "spg": 1.083}, {"pn": "155501", "spg": 1.01}, {"pn": "109503", "spg": 1.01}, {"pn": "109504", "spg": 1.0}, {"pn": "121001", "spg": 1.009}, {"pn": "119602", "spg": 1.02}, {"pn": "119401", "spg": 1.003}, {"pn": "119201", "spg": 1.066}, {"pn": "113801", "spg": 1.04}, {"pn": "114903", "spg": 1.0}, {"pn": "114955002", "spg": 1.05}, {"pn": "141501", "spg": 1.01}, {"pn": "187301", "spg": 1.014}, {"pn": "140601", "spg": 0.99}, {"pn": "178401", "spg": 0.99}, {"pn": "113101", "spg": 1.037}, {"pn": "143501", "spg": 1.0}, {"pn": "143509", "spg": 1.0}, {"pn": "117301", "spg": 1.0}, {"pn": "186501", "spg": 1.004}, {"pn": "133001", "spg": 1.16}, {"pn": "140001", "spg": 1.052}, {"pn": "152101", "spg": 1.004}, {"pn": "192102", "spg": 1.04}, {"pn": "153901", "spg": 1.0}];

function setStatus(msg, kind='') {
  const el = document.getElementById('searchStatus');
  el.textContent = msg || '';
  el.className = `small ${kind ? 'pill ' + kind : 'muted'}`;
}

function fillBottleSelect() {
  const sel = document.getElementById('bottle');
  sel.innerHTML = "";
  bottleTypes.forEach(b => {
    const opt = document.createElement('option');
    opt.value = b.key;
    opt.textContent = `${b.name} – ${b.ounces} oz (tare ${b.tare.toFixed(3)} lb)`;
    sel.appendChild(opt);
  });
}

function findProduct(pnRaw) {
  const pn = (pnRaw || '').trim().toLowerCase();
  if (!pn) return null;
  // exact match, case-insensitive
  for (const rec of PRODUCTS) {
    if (String(rec.pn).trim().toLowerCase() === pn) return rec;
  }
  return null;
}

function lookupProduct() {
  const query = document.getElementById('search').value;
  if (!query.trim()) { setStatus("Enter a product number to search.", ''); return; }
  const rec = findProduct(query);
  if (rec) {
    const val = Number(rec.spg);
    if (Number.isFinite(val)) {
      document.getElementById('spg').value = String(val);
      setStatus(`Found SPG ${val.toFixed(3)} for "${query}".`, 'ok');
      calc();
      return;
    }
  }
  setStatus(`Product "${query}" not found. Type SPG manually.`, 'warn');
}

function calc() {
  const key = document.getElementById('bottle').value;
  const bottle = bottleTypes.find(b => b.key === key) || bottleTypes[0];
  const spg = parseFloat(document.getElementById('spg').value || "0");
  const net = (bottle.ounces * spg * GALLON_LBS_AT_SPG1) / 128.0;
  const gross = net + bottle.tare;
  const res = document.getElementById('result');
  res.innerHTML = `
    <div><strong>Net:</strong> ${Number.isFinite(net) ? net.toFixed(3) : '—'} lb</div>
    <div><strong>Gross:</strong> ${Number.isFinite(gross) ? gross.toFixed(3) : '—'} lb</div>
    <div class="muted">Bottle: ${bottle.name} • ${bottle.ounces} oz • Tare ${bottle.tare.toFixed(3)} lb • SPG ${Number.isFinite(spg) ? spg.toFixed(3) : '—'}</div>
  `;
}

document.getElementById('search').addEventListener('change', lookupProduct);
document.getElementById('search').addEventListener('keyup', (e) => { if (e.key === 'Enter') lookupProduct(); });
['spg','bottle'].forEach(id => {
  document.getElementById(id).addEventListener('input', calc);
  document.getElementById(id).addEventListener('change', calc);
});

fillBottleSelect();
calc();
</script>
</body>
</html>
